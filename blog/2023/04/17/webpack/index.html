<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>webpack基础操作 | XiaoYang</title><meta name="author" content="杨,y1597355434@gmail.com"><meta name="copyright" content="杨"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="第一章 走进Webpack5的世界—初始简介：Webpack初始  Webpack初始  版本历史  2012.3—webpack（问世）  2014.2—webpack1  2016.12—webpack2  2017.6—webpack3  2018.2—webpack4  2020.10—webpack5（要求node版本10.13+）    官网  https:&#x2F;&#x2F;webpack.docs">
<meta property="og:type" content="article">
<meta property="og:title" content="webpack基础操作">
<meta property="og:url" content="https://yangy97.github.io/blog/2023/04/17/webpack/index.html">
<meta property="og:site_name" content="XiaoYang">
<meta property="og:description" content="第一章 走进Webpack5的世界—初始简介：Webpack初始  Webpack初始  版本历史  2012.3—webpack（问世）  2014.2—webpack1  2016.12—webpack2  2017.6—webpack3  2018.2—webpack4  2020.10—webpack5（要求node版本10.13+）    官网  https:&#x2F;&#x2F;webpack.docs">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://yangy97.github.io/blog/img/avator.png">
<meta property="article:published_time" content="2023-04-17T06:20:51.000Z">
<meta property="article:modified_time" content="2023-04-19T09:18:11.755Z">
<meta property="article:author" content="杨">
<meta property="article:tag" content="webpack">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yangy97.github.io/blog/img/avator.png"><link rel="shortcut icon" href="/blog/img/favicon.png"><link rel="canonical" href="https://yangy97.github.io/blog/2023/04/17/webpack/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/blog/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/blog/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: 杨","link":"链接: ","source":"来源: XiaoYang","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  }
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'webpack基础操作',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-04-19 17:18:11'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

document.addEventListener('pjax:send', () => {
  Pace.restart()
})
</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/blog/img/avator.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">35</div></a><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 回顾</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://file.crazywong.com/gh/jerryc127/butterfly_cdn@2.1.0/top_img/index.jpg')"><nav id="nav"><span id="blog-info"><a href="/blog/" title="XiaoYang"><span class="site-name">XiaoYang</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/blog/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/blog/archives/"><i class="fa-fw fas fa-archive"></i><span> 回顾</span></a></div><div class="menus_item"><a class="site-page" href="/blog/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/blog/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">webpack基础操作</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="fa-fw post-meta-icon far fa-calendar-alt"></i><span class="post-meta-label">发表于</span><time datetime="2023-04-17T06:20:51.000Z" title="发表于 2023-04-17 14:20:51">2023-04-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/blog/categories/webpack/">webpack</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="webpack基础操作"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="第一章-走进Webpack5的世界—初始"><a href="#第一章-走进Webpack5的世界—初始" class="headerlink" title="第一章 走进Webpack5的世界—初始"></a>第一章 走进Webpack5的世界—初始</h3><p><strong>简介：Webpack初始</strong></p>
<ul>
<li><p>Webpack初始</p>
<ul>
<li><p>版本历史</p>
<ul>
<li><p>2012.3—webpack（问世）</p>
</li>
<li><p>2014.2—webpack1</p>
</li>
<li><p>2016.12—webpack2</p>
</li>
<li><p>2017.6—webpack3</p>
</li>
<li><p>2018.2—webpack4</p>
</li>
<li><p>2020.10—webpack5（要求node版本10.13+）</p>
</li>
</ul>
</li>
<li><p>官网</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://webpack.docschina.org/">https://webpack.docschina.org/</a></li>
</ul>
</li>
<li><p>定义</p>
<ul>
<li><p><strong>webpack</strong> 是一个用于现代 JavaScript 应用程序的<strong>静态模块打包</strong>工具</p>
</li>
<li><p>静态模块</p>
<ul>
<li>模块化开发，避免重复代码、 逻辑，提高开发效率</li>
</ul>
</li>
<li><p>打包</p>
<ul>
<li><p>将各个模块，按照一定的规则组装起来</p>
<p><img src="/blog/img/image-20220213140825734.png" alt="image-20220213140825734"></p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>特点</p>
<ul>
<li><p>构建（不支持的代码转换成支持的代码）</p>
<ul>
<li><p>源代码编译成浏览器能解析的生产代码（如：es6&#x3D;&gt;es5，scss&#x3D;&gt;css）</p>
</li>
<li><p>格式化校验</p>
</li>
<li><p>压缩</p>
<p><img src="/blog/img/image-20220207161052424.png" alt="image-20220207161052424"></p>
</li>
</ul>
</li>
<li><p>打包</p>
<ul>
<li><p>把多个文件合并成一个文件，减少http请求的次数，提高生产环境的运行效率</p>
<p><img src="/blog/img/image-20220207161609394.png" alt="image-20220207161609394"></p>
</li>
</ul>
</li>
<li><p>发布 <code>web</code> 服务</p>
<ul>
<li>生成本地的服务器，监听开发代码的修改，自动更新页面的显示</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><img src="/blog/img/111.md.png" alt="111.md"></p>
<ul>
<li>功能<ul>
<li>将多个不同类型文件打包</li>
<li>编译代码，确保浏览器能解析</li>
<li>对代码进行压缩，减少文件体积，提高加载速度</li>
<li>对源代码进行格式化校验</li>
<li>有热更新功能，提高开发效率</li>
<li>不同环境，提供不同的打包策略</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="详解Webpack五个核心配置"><a href="#详解Webpack五个核心配置" class="headerlink" title="详解Webpack五个核心配置"></a>详解Webpack五个核心配置</h4><p><strong>简介：Webpack核心概念</strong></p>
<p><img src="/blog/img/image-20220213164315439.png" alt="image-20220213164315439"></p>
<ul>
<li><p>入口（Entry）</p>
<ul>
<li>告诉 <code>webpack</code> 应该使用哪个模块，来作为构建整个项目的开始</li>
</ul>
</li>
<li><p>出口（Output）</p>
<ul>
<li>告诉 <code>webpack</code> 在哪里输出它所创建的 <code>bundle</code>，以及如何命名这些文件（默认为 <code>main.js</code> ）</li>
</ul>
</li>
<li><p>加载器（Loader）</p>
<ul>
<li><p>webpack 只能理解 JS 和 JSON 文件，loader 让 webpack 能够去处理其他类型的文件，并将它们转换为有效模块，以供应用程序使用</p>
</li>
<li><p>例子：<code>css-loader | html-loader </code></p>
</li>
</ul>
</li>
<li><p>插件（Plugins）</p>
<ul>
<li><p>插件是 webpack 的支柱功能，能够执行范围更广的任务，包括：打包优化、压缩、重新定义环境中的变量等</p>
</li>
<li><p>例子：<code>html-webpack-plugin</code></p>
</li>
</ul>
</li>
<li><p>模式（Mode）</p>
<ul>
<li>区分环境，不同的环境打包逻辑不同<ul>
<li><code>development</code>（优化打包速度，提供调试的辅助功能）</li>
<li><code>production</code>（优化打包结果，打包之后代码的运行效率和性能优化）</li>
<li><code>none</code>（最原始的打包）</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/blog/img/image-20220213173352176.png" alt="image-20220213173352176"></p>
<h4 id="上手webpack的使用—初体验"><a href="#上手webpack的使用—初体验" class="headerlink" title="上手webpack的使用—初体验"></a>上手webpack的使用—初体验</h4><p><strong>简介：上手webpack使用</strong></p>
<ul>
<li>初始化项目</li>
</ul>
  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm init -y</span><br></pre></td></tr></table></figure>



<ul>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm i webpack webpack-cli -D</span><br></pre></td></tr></table></figure>


</li>
<li><p>创建入口文件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ./src/index.js</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(hello webpack)</span><br></pre></td></tr></table></figure>


</li>
<li><p>打包命令（指定mode）</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">webpack ./src/index.js -o ./dist --mode=development</span><br></pre></td></tr></table></figure></li>
</ul>
<!-- <img src="img/image-20220213180331286.png" alt="image-20220213180331286" style="zoom:150%;" /> -->
<p><img src="/blog/img/image-20220213180331286.png" alt="mage-20220213180331286"></p>
<h3 id="第二章-Webpack5基础—HTML、CSS资源打包"><a href="#第二章-Webpack5基础—HTML、CSS资源打包" class="headerlink" title="第二章  Webpack5基础—HTML、CSS资源打包"></a>第二章  Webpack5基础—HTML、CSS资源打包</h3><h4 id="第1集-深入理解webpack配置文件"><a href="#第1集-深入理解webpack配置文件" class="headerlink" title="第1集 深入理解webpack配置文件"></a>第1集 深入理解webpack配置文件</h4><p><strong>简介：webpack配置文件</strong></p>
<ul>
<li><p>特点</p>
<ul>
<li><p>简化命令行的选项</p>
</li>
<li><p>默认配置文件名称为webpack.config.js</p>
</li>
<li><p>操作webpack大部分都是在配置webpack.config.js文件</p>
</li>
</ul>
</li>
<li><p>配置详情</p>
<ul>
<li><p>mode（模式） </p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 打包模式配置</span></span><br><span class="line"><span class="attr">mode</span>: <span class="string">&#x27;development&#x27;</span>,</span><br></pre></td></tr></table></figure>
</li>
<li><p>entry（入口）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 入口文件配置</span></span><br><span class="line"><span class="attr">entry</span>: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br></pre></td></tr></table></figure>
</li>
<li><p>output（出口）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; resolve &#125; = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 出口文件配置</span></span><br><span class="line"><span class="attr">output</span>: &#123;</span><br><span class="line">  <span class="comment">// 所有输出文件的目标路径，必须是绝对路径</span></span><br><span class="line">  <span class="attr">path</span>: path.<span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">  <span class="comment">// 出口文件名配置</span></span><br><span class="line">  <span class="attr">filename</span>: <span class="string">&quot;bundle.js&quot;</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>module（模块-loader配置）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 模块配置</span></span><br><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line">  <span class="attr">rules</span>: [</span><br><span class="line">    <span class="comment">// 配置多个模块规则（配置loader、解析器等选项）</span></span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>devServer（用于快速开发应用程序）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 开发服务器</span></span><br><span class="line"><span class="attr">devServer</span>: &#123;&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>plugin（插件）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 插件配置</span></span><br><span class="line"><span class="attr">plugins</span>: [],</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>打包命令设置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;build&quot;</span>: <span class="string">&quot;webpack&quot;</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
<p>·</p>
<h4 id="第2集-HTML资源打包—自动生成HTML文件和指定模板"><a href="#第2集-HTML资源打包—自动生成HTML文件和指定模板" class="headerlink" title="第2集 HTML资源打包—自动生成HTML文件和指定模板"></a>第2集 HTML资源打包—自动生成HTML文件和指定模板</h4><p><strong>简介：详解打包自动生成HTML文件</strong></p>
<ul>
<li><p>自动生成HTML文件（html-webpack-plugin）</p>
<ul>
<li><p>定义</p>
<ul>
<li>该插件可以生成一个 HTML 文件，并在HTML中加载所有打包资源，便于服务器访问</li>
</ul>
</li>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm i html-webpack-plugin -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>引入</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">HtmlWebpackPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(),</span><br><span class="line">],</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>指定生成HTML模板</p>
<ul>
<li><p>新建HTML文件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ./src/index.html</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">		<span class="attr">template</span>:<span class="string">&#x27;./src/index.html&#x27;</span>,  <span class="comment">//指定 html 模板</span></span><br><span class="line">    <span class="attr">filename</span>:<span class="string">&#x27;index.html&#x27;</span>,				<span class="comment">//指定 html 名称</span></span><br><span class="line">    <span class="attr">title</span>:<span class="string">&#x27;hello webpack&#x27;</span>					<span class="comment">//指定 html title</span></span><br><span class="line">  &#125;),</span><br><span class="line">],</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>title</code>使用</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// 使用EJS语法，是JS的模板引擎</span><br><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>&lt;%=htmlWebpackPlugin.options.title%&gt;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="第3集-HTML资源打包—打包多个HTML页面和压缩"><a href="#第3集-HTML资源打包—打包多个HTML页面和压缩" class="headerlink" title="第3集 HTML资源打包—打包多个HTML页面和压缩"></a>第3集 HTML资源打包—打包多个HTML页面和压缩</h4><p><strong>简介：详解打包多个HTML页面</strong></p>
<ul>
<li><p>打包多个HTML页面</p>
<ul>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">		<span class="attr">template</span>:<span class="string">&#x27;./src/index.html&#x27;</span>,  </span><br><span class="line">    <span class="attr">filename</span>:<span class="string">&#x27;index.html&#x27;</span>,				</span><br><span class="line">    <span class="attr">title</span>:<span class="string">&#x27;首页&#x27;</span>					</span><br><span class="line">  &#125;),</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">		<span class="attr">template</span>:<span class="string">&#x27;./src/index.html&#x27;</span>,  </span><br><span class="line">    <span class="attr">filename</span>:<span class="string">&#x27;mine.html&#x27;</span>,				</span><br><span class="line">    <span class="attr">title</span>:<span class="string">&#x27;我的&#x27;</span>					</span><br><span class="line">  &#125;),</span><br><span class="line">],</span><br></pre></td></tr></table></figure>


</li>
<li><p>跳转设置</p>
<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// index.html</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>小杨的博客<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;index.html&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;mine.html&quot;</span>&gt;</span>我的<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>压缩</p>
<ul>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">  <span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span>,</span><br><span class="line">  <span class="attr">title</span>: <span class="string">&#x27;我的&#x27;</span>,</span><br><span class="line">  <span class="attr">filename</span>: <span class="string">&#x27;mine.html&#x27;</span>,</span><br><span class="line">  <span class="attr">minify</span>: &#123;</span><br><span class="line">    <span class="attr">collapseWhitespace</span>: <span class="literal">true</span>,  <span class="comment">// 清除空格换行</span></span><br><span class="line">    <span class="attr">removeComments</span>: <span class="literal">true</span>,			 <span class="comment">// 清除注释</span></span><br><span class="line">  &#125;, </span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="第4集-CSS资源打包—剖析CSS打包的原理"><a href="#第4集-CSS资源打包—剖析CSS打包的原理" class="headerlink" title="第4集 CSS资源打包—剖析CSS打包的原理"></a>第4集 CSS资源打包—剖析CSS打包的原理</h4><p><strong>简介：剖析CSS打包的原理</strong></p>
<ul>
<li><p>打包css的loader</p>
<ul>
<li><p>css-loader</p>
<ul>
<li>将css代码转化为js代码，合并到打包后的js文件中</li>
</ul>
</li>
<li><p>style-loader</p>
<ul>
<li>将包含css内容的js代码，插入到html中style标签中</li>
</ul>
</li>
</ul>
</li>
<li><p>安装</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cnpm i css-loader style-loader -D</span><br></pre></td></tr></table></figure>


</li>
<li><p>css文件引入</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// index,js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./css/main.css&#x27;</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>webpack配置文件中配置规则</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 模块配置</span></span><br><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line">  <span class="comment">// 执行顺序 1-&gt;2-&gt;3</span></span><br><span class="line"> <span class="comment">// rules: [</span></span><br><span class="line">   <span class="comment">// &#123;</span></span><br><span class="line">  <span class="comment">//    test: /\.js$/,</span></span><br><span class="line">  <span class="comment">//    use: &quot;loader3&quot;,</span></span><br><span class="line">  <span class="comment">//  &#125;,</span></span><br><span class="line">  <span class="comment">//  &#123;</span></span><br><span class="line">   <span class="comment">//   test: /\.js$/,</span></span><br><span class="line">   <span class="comment">//   use: &quot;loader2&quot;,</span></span><br><span class="line">  <span class="comment">//  &#125;,</span></span><br><span class="line">  <span class="comment">//  &#123;</span></span><br><span class="line">  <span class="comment">//    test: /\.js$/,</span></span><br><span class="line">  <span class="comment">//    use: &quot;loader1&quot;,</span></span><br><span class="line">  <span class="comment">//  &#125;,</span></span><br><span class="line"> <span class="comment">// ],</span></span><br><span class="line"></span><br><span class="line">  <span class="attr">rules</span>: [</span><br><span class="line">    <span class="comment">// 配置多个模块规则（配置loader、解析器等选项）</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// 匹配css文件</span></span><br><span class="line">      <span class="attr">test</span>: <span class="regexp">/\.css$/i</span>,</span><br><span class="line">      <span class="comment">// 指定加载器，加载顺序正常情况下，loader执行顺序遵循从右向左，从下到上的原则  执行顺序css-loader-&gt;style-loader</span></span><br><span class="line">      <span class="attr">use</span>: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>],</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
<p>一般情况下，loader分为 pre（前置）、normal、post（后置）、inline（行内，嵌在代码中的loader），这四大类（默认是normal），loader的执行顺序为：<br>pre（前置） &gt; normal &gt; inline（行内）&gt; post（后置）<br>上面说loader的执行顺序是倒序，那如果我真的是希望强制更改loader3在 loader1之前执行就可以这么做（此时的执行顺序为 loader3 &gt; loader1 &gt; loader2）<br> {<br>        test: &#x2F;.js$&#x2F;,<br>        use: “loader3”,<br>        enforce:”pre” &#x2F;&#x2F;增加了此行<br>     },</p>
<h4 id="第5集-CSS资源打包—将CSS代码抽离成单独文件"><a href="#第5集-CSS资源打包—将CSS代码抽离成单独文件" class="headerlink" title="第5集 CSS资源打包—将CSS代码抽离成单独文件"></a>第5集 CSS资源打包—将CSS代码抽离成单独文件</h4><p><strong>简介：将CSS代码抽离成单独文件</strong></p>
<ul>
<li><p>mini-css-extract-plugin</p>
<ul>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm i mini-css-extract-plugin -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>引入</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">MiniCssExtractPlugin</span>=<span class="built_in">require</span>(<span class="string">&#x27;mini-css-extract-plugin&#x27;</span>)</span><br></pre></td></tr></table></figure>


</li>
<li><p>loader配置（替换style-loader）</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="attr">use</span>:[<span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>,<span class="string">&#x27;css-loader&#x27;</span>]</span><br></pre></td></tr></table></figure>


</li>
<li><p>实例化插件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">MiniCssExtractPlugin</span>(&#123;</span><br><span class="line">  <span class="attr">filename</span>:<span class="string">&#x27;./css/main.css&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


</li>
<li><p>作用</p>
<ul>
<li>从js文件中抽离出css代码，减少js文件体积</li>
<li>当js文件比较庞大时，可以避免阻碍页面的渲染</li>
<li>提高渲染速度<br><img src="/blog/img/image-20220214170325631.png" alt="image-20220214170325631"></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="第6集-CSS资源打包—玩转打包CSS预编译语言"><a href="#第6集-CSS资源打包—玩转打包CSS预编译语言" class="headerlink" title="第6集 CSS资源打包—玩转打包CSS预编译语言"></a>第6集 CSS资源打包—玩转打包CSS预编译语言</h4><p><strong>简介：剖析CSS预编译语言</strong></p>
<ul>
<li><p>css预编译语言的安装</p>
<ul>
<li><p>less</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm install less less-loader -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>sass</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm install node-sass sass-loader -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>stylus</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm install stylus stylus-loader -D</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./css/main.less&#x27;</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>webpack配置文件中配置规则</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"> <span class="comment">// 模块配置</span></span><br><span class="line"><span class="attr">module</span>: &#123;</span><br><span class="line">  <span class="attr">rules</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">test</span>: <span class="regexp">/\.less$/i</span>,</span><br><span class="line">      <span class="attr">use</span>: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;less-loader&#x27;</span>],</span><br><span class="line">    &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="第7集-CSS资源打包—对特殊的CSS样式添加兼容前缀"><a href="#第7集-CSS资源打包—对特殊的CSS样式添加兼容前缀" class="headerlink" title="第7集 CSS资源打包—对特殊的CSS样式添加兼容前缀"></a>第7集 CSS资源打包—对特殊的CSS样式添加兼容前缀</h4><p><strong>简介：对特殊的CSS样式添加兼容前缀</strong></p>
<ul>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm i postcss-loader autoprefixer -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置</p>
<ul>
<li><p>webpack.config.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">use</span>: [</span><br><span class="line">  <span class="title class_">MiniCssExtractPlugin</span>.<span class="property">loader</span>, </span><br><span class="line">  <span class="string">&#x27;css-loader&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;postcss-loader&#x27;</span>   <span class="comment">// 处理css兼容</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>


</li>
<li><p>postcss.config.js</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  <span class="attr">plugins</span>: [<span class="built_in">require</span>(<span class="string">&#x27;autoprefixer&#x27;</span>)], <span class="comment">// 添加浏览器前缀</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>


</li>
<li><p>package.json</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;browserslist&quot;</span>:[</span><br><span class="line">  <span class="string">&quot;last 2 version&quot;</span>,   <span class="comment">// 兼容浏览器的最近两个版本</span></span><br><span class="line">  <span class="string">&quot;&gt; 1%&quot;</span>							<span class="comment">// 全球占有率超过1%的浏览器</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>作用</p>
<ul>
<li>让特殊的css样式兼容各个浏览器</li>
</ul>
</li>
</ul>
<h4 id="第8集-CSS资源打包—CSS压缩"><a href="#第8集-CSS资源打包—CSS压缩" class="headerlink" title="第8集 CSS资源打包—CSS压缩"></a>第8集 CSS资源打包—CSS压缩</h4><p><strong>简介：压缩CSS代码</strong></p>
<ul>
<li><p>optimize-css-assets-webpack-plugin</p>
<ul>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm i optimize-css-assets-webpack-plugin -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>引入</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">OptimizeCssAssetsPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;optimize-css-assets-webpack-plugin&#x27;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="attr">plugins</span>: [</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">OptimizeCssAssetsPlugin</span>(),</span><br><span class="line">],</span><br></pre></td></tr></table></figure>


</li>
<li><p>作用</p>
<ul>
<li>压缩后的代码去除了空格和换行</li>
<li>文件体积更小，提高请求的速度</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="第三章-webpack5基础—-JS、其他资源打包和热更新"><a href="#第三章-webpack5基础—-JS、其他资源打包和热更新" class="headerlink" title="第三章 webpack5基础— JS、其他资源打包和热更新"></a>第三章 webpack5基础— JS、其他资源打包和热更新</h3><h4 id="第1集-JS资源打包—编译"><a href="#第1集-JS资源打包—编译" class="headerlink" title="第1集 JS资源打包—编译"></a>第1集 JS资源打包—编译</h4><p><strong>简介：详解编译</strong></p>
<ul>
<li><p>目的</p>
<ul>
<li>将ES5以上的语法转成ES5，保证在低版本浏览器的兼容性</li>
</ul>
</li>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm i babel-loader @babel/core @babel/preset-env core-js -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="regexp">/\.m?js$/</span>,</span><br><span class="line">  <span class="attr">exclude</span>: <span class="regexp">/node_modules/</span>,</span><br><span class="line">  <span class="attr">use</span>: &#123;</span><br><span class="line">    <span class="attr">loader</span>: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">    <span class="attr">options</span>: &#123;</span><br><span class="line">      <span class="attr">presets</span>: [</span><br><span class="line">        [<span class="string">&#x27;@babel/preset-env&#x27;</span>, </span><br><span class="line">         &#123; </span><br><span class="line">           <span class="attr">useBuiltIns</span>:<span class="string">&#x27;usage&#x27;</span>, <span class="comment">//按需加载</span></span><br><span class="line">           <span class="attr">corejs</span>:<span class="number">3</span>,						<span class="comment">//指定版本</span></span><br><span class="line">           <span class="attr">targets</span>: <span class="string">&quot;defaults&quot;</span></span><br><span class="line">         &#125;</span><br><span class="line">        ]</span><br><span class="line">      ]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="第2集-JS资源打包—代码格式校验"><a href="#第2集-JS资源打包—代码格式校验" class="headerlink" title="第2集 JS资源打包—代码格式校验"></a>第2集 JS资源打包—代码格式校验</h4><p><strong>简介：详解代码格式校验</strong></p>
<ul>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm i eslint eslint-config-airbnb-base eslint-webpack-plugin eslint-plugin-import -D</span><br></pre></td></tr></table></figure>

<ul>
<li>eslint<ul>
<li>检验代码格式的工具</li>
</ul>
</li>
<li>eslint-config-airbnb-base<ul>
<li>js代码格式规范</li>
<li>校验的依据：<a target="_blank" rel="noopener" href="https://github.com/airbnb/javascript">https://github.com/airbnb/javascript</a></li>
</ul>
</li>
<li>eslint-webpack-plugin<ul>
<li>webpack的eslint插件</li>
</ul>
</li>
<li>eslint-plugin-import<ul>
<li>用于在package.json中读取eslintConfig配置项</li>
</ul>
</li>
</ul>
</li>
<li><p>使用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">ESlintPlugin</span>=<span class="built_in">require</span>(<span class="string">&#x27;eslint-webpack-plugin&#x27;</span>)</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line"><span class="attr">plugins</span>:[</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">ESlintPlugin</span>(&#123;</span><br><span class="line">    <span class="attr">fix</span>:<span class="literal">true</span>         <span class="comment">// 自动修正不符合规范的代码</span></span><br><span class="line">  &#125;)</span><br><span class="line">]</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="string">&quot;eslintConfig&quot;</span>:&#123;</span><br><span class="line">	<span class="string">&quot;extends&quot;</span>:<span class="string">&quot;airbnb-base&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="第3集-玩转资源模块Asset-Modules"><a href="#第3集-玩转资源模块Asset-Modules" class="headerlink" title="第3集 玩转资源模块Asset Modules"></a>第3集 玩转资源模块Asset Modules</h4><p><strong>简介：详解资源模块Asset Modules</strong></p>
<ul>
<li><p>Asset Modules</p>
<ul>
<li><p>定义</p>
<ul>
<li>Asset Modules 是一种模块，允许我们在不配置额外 loader 的情况下使用资源文件（字体、图片、图标、html等）</li>
</ul>
</li>
<li><p>官方地址：<a target="_blank" rel="noopener" href="https://webpack.docschina.org/guides/asset-modules/">https://webpack.docschina.org/guides/asset-modules/</a></p>
</li>
</ul>
</li>
<li><p>在 webpack 4 版本，通常使用：</p>
<ul>
<li><p><code>raw-loader</code>将文件作为字符串输出</p>
</li>
<li><p><code>file-loader</code>将文件发送到输出目录</p>
</li>
<li><p><code>url-loader</code>设定一个临界值（文件大小），大于该值将文件发送到输出目录，否则将文件转为base64合并到 js 文件当中</p>
</li>
</ul>
</li>
<li><p>在webpack5版本，可以使用Asset Modules 的 4 种新的模块类型来替换这些<code>loader</code></p>
<ul>
<li><code>asset/resource</code><ul>
<li>发出一个单独的文件并导出 URL。替换 <code>file-loader</code>.</li>
</ul>
</li>
<li><code>asset/inline</code><ul>
<li>导出资源的data URI。替换<code>url-loader</code>.</li>
</ul>
</li>
<li><code>asset/source</code><ul>
<li>导出资源的源代码。替换<code>raw-loader</code>.</li>
</ul>
</li>
<li><code>asset</code><ul>
<li>自动在导出data URI 和发出单独文件之间进行选择。之前是使用<code>url-loader</code>资产大小限制来实现。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="第4集-实现图片和字体资源打包"><a href="#第4集-实现图片和字体资源打包" class="headerlink" title="第4集 实现图片和字体资源打包"></a>第4集 实现图片和字体资源打包</h4><p><strong>简介：详解图片和字体资源打包</strong></p>
<ul>
<li><p>图片资源打包</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="regexp">/\s/i</span>,</span><br><span class="line">  <span class="comment">// asset可以在asset/inline和asset/resource之间进行切换，文件小于8kb时使用asset/inline，否则使用asset/resource</span></span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;asset&#x27;</span>,              </span><br><span class="line">  <span class="attr">parser</span>: &#123;</span><br><span class="line">    <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">      <span class="attr">maxSize</span>: <span class="number">8</span> * <span class="number">1024</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">generator</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;images/[name][ext]&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>


</li>
<li><p>字体资源打包</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">test</span>: <span class="regexp">/\.(eot|svg|ttf|woff|woff2)$/i</span>,</span><br><span class="line">  <span class="comment">// asset可以在asset/inline和asset/resource之间进行切换，文件小于8kb时使用asset/inline，否则使用asset/resource</span></span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;asset&#x27;</span>,              </span><br><span class="line">  <span class="attr">parser</span>: &#123;</span><br><span class="line">    <span class="attr">dataUrlCondition</span>: &#123;</span><br><span class="line">      <span class="attr">maxSize</span>: <span class="number">8</span> * <span class="number">1024</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">generator</span>: &#123;</span><br><span class="line">    <span class="attr">filename</span>: <span class="string">&#x27;fonts/[name][ext]&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="第5集-提高开发效率—开发服务器"><a href="#第5集-提高开发效率—开发服务器" class="headerlink" title="第5集 提高开发效率—开发服务器"></a>第5集 提高开发效率—开发服务器</h4><p><strong>简介：详解开发服务器</strong></p>
<ul>
<li><p>热更新</p>
<ul>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm i webpack-dev-server -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">devServer</span>:&#123;</span><br><span class="line">  <span class="comment">// 告诉服务器从哪里提供内容</span></span><br><span class="line">  <span class="attr">static</span>: &#123;</span><br><span class="line">    <span class="attr">directory</span>: <span class="title function_">resolve</span>(__dirname, <span class="string">&#x27;output&#x27;</span>),</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 打开自动更新</span></span><br><span class="line">  <span class="attr">liveReload</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 打开gzip压缩</span></span><br><span class="line">  <span class="attr">compress</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 指定端口号</span></span><br><span class="line">  <span class="attr">port</span>: <span class="number">8888</span>,</span><br><span class="line">&#125;,</span><br><span class="line"><span class="comment">// 指定构建的环境</span></span><br><span class="line"><span class="attr">target</span>: <span class="string">&#x27;web&#x27;</span>,</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>配置接口代理（proxy）</p>
<ul>
<li><p>目的</p>
<ul>
<li>解决接口跨域问题</li>
</ul>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">proxy</span>: &#123;</span><br><span class="line">  <span class="string">&#x27;/api&#x27;</span>: &#123;</span><br><span class="line">    <span class="comment">// 访问的目标地址</span></span><br><span class="line">    <span class="attr">target</span>: <span class="string">&#x27;https://api.example.com&#x27;</span>,</span><br><span class="line">    <span class="comment">// 如果不希望传递/api，则需要重写路径</span></span><br><span class="line">    <span class="attr">pathRewrite</span>: &#123; <span class="string">&#x27;^/api&#x27;</span>: <span class="string">&#x27;&#x27;</span> &#125;,</span><br><span class="line">    <span class="comment">// 访问https时需要配置</span></span><br><span class="line">    <span class="attr">secure</span>: <span class="literal">false</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// 覆盖源主机名</span></span><br><span class="line">  <span class="attr">changeOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="第四章-webpack5进阶—环境区分和代码分离"><a href="#第四章-webpack5进阶—环境区分和代码分离" class="headerlink" title="第四章  webpack5进阶—环境区分和代码分离"></a>第四章  webpack5进阶—环境区分和代码分离</h3><h4 id="第1集-开发环境区分—变量区分打包环境"><a href="#第1集-开发环境区分—变量区分打包环境" class="headerlink" title="第1集 开发环境区分—变量区分打包环境"></a>第1集 开发环境区分—变量区分打包环境</h4><p><strong>简介：详解开发环境区分</strong></p>
<ul>
<li><p>目的</p>
<ul>
<li>不同的环境需要不同打包策略</li>
<li>生产环境需要压缩，但是可读性差，在开发环境一般不开启</li>
<li>生产环境与开发环境的调试接口不一样</li>
</ul>
</li>
<li><p>变量区分打包环境</p>
<ul>
<li><p>配置</p>
<p><img src="/blog/img/image-20220210163710830.png" alt="image-20220210163710830"></p>
</li>
<li><p>打包命令传参</p>
<ul>
<li><p>生产环境打包命令设置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">  <span class="string">&quot;build:prod&quot;</span>: <span class="string">&quot;webpack --env production&quot;</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>开发环境</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm run build</span><br></pre></td></tr></table></figure>
</li>
<li><p>生产环境</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">npm run build:prod</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="第2集-开发环境区分—配置文件区分打包环境"><a href="#第2集-开发环境区分—配置文件区分打包环境" class="headerlink" title="第2集 开发环境区分—配置文件区分打包环境"></a>第2集 开发环境区分—配置文件区分打包环境</h4><p><strong>简介：详解开发环境区分</strong></p>
<ul>
<li><p>配置文件区分打包环境</p>
<ul>
<li><p>合并插件</p>
<ul>
<li><p>webpack-merge</p>
<ul>
<li>将公共配置文件分别与两个环境的配置文件合并</li>
</ul>
</li>
<li><p>安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cnpm i webpack-merge -D</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>开发环境配置文件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.config.js</span></span><br><span class="line"><span class="keyword">const</span> &#123;merge&#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> baseWebpackConfig=<span class="built_in">require</span>(<span class="string">&#x27;./webpack.base.conf&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> devWebpackConfig=<span class="title function_">merge</span>(baseWebpackConfig,&#123;</span><br><span class="line">  <span class="comment">// 开发环境的配置</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>生产环境配置文件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.prod.config.js</span></span><br><span class="line"><span class="keyword">const</span> &#123;merge&#125; = <span class="built_in">require</span>(<span class="string">&#x27;webpack-merge&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> baseWebpackConfig=<span class="built_in">require</span>(<span class="string">&#x27;./webpack.base.conf&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> prodWebpackConfig=<span class="title function_">merge</span>(baseWebpackConfig,&#123;</span><br><span class="line">  <span class="comment">// 生产环境的配置</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>公共配置文件</p>
<ul>
<li>抽离需要区分环境的配置后的配置文件</li>
</ul>
</li>
</ul>
</li>
<li><p>修改打包命令</p>
</li>
</ul>
<h4 id="第3集-开发环境区分—环境区分全局变量"><a href="#第3集-开发环境区分—环境区分全局变量" class="headerlink" title="第3集 开发环境区分—环境区分全局变量"></a>第3集 开发环境区分—环境区分全局变量</h4><p><strong>简介：环境区分不同的全局变量</strong></p>
<ul>
<li><p>DefinePlugin</p>
<ul>
<li>为项目注入全局变量</li>
</ul>
</li>
<li><p>不同环境注入不同的接口地址</p>
<ul>
<li><p>开发环境配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.dev.config.js</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>)</span><br><span class="line"><span class="attr">plugins</span>:[</span><br><span class="line">	<span class="keyword">new</span> webpack.<span class="title class_">DefinePlugin</span>(&#123;</span><br><span class="line">		<span class="attr">API_BASE_URL</span>:<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(<span class="string">&#x27;https://apidev.example.com&#x27;</span>)</span><br><span class="line">	&#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
</li>
<li><p>获取接口地址</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;配置的接口：&#x27;</span>,<span class="variable constant_">API_BASE_URL</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="第4集-代码分离—多入口打包"><a href="#第4集-代码分离—多入口打包" class="headerlink" title="第4集 代码分离—多入口打包"></a>第4集 代码分离—多入口打包</h4><p><strong>简介：详解代码分离多入口打包</strong></p>
<ul>
<li><p>目的</p>
<ul>
<li>将代码分离到不同打包后的文件中即 <code>bundle</code> 文件</li>
<li>可以按需加载或并行加载这些文件</li>
<li>获取更小的 bundle，控制资源加载优先级，降低加载时间</li>
</ul>
</li>
<li><p>分离方式</p>
<ul>
<li><p>多入口打包</p>
</li>
<li><p>抽离出公共文件</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">optimization.<span class="property">splitChunks</span>.<span class="property">chunks</span>:all</span><br></pre></td></tr></table></figure>
</li>
<li><p>动态导入</p>
<ul>
<li>按需加载</li>
<li>预加载</li>
</ul>
</li>
</ul>
</li>
<li><p>多入口打包</p>
<ul>
<li><p>入口 <code>entry</code> 配置多个文件</p>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="attr">entry</span>: &#123;</span><br><span class="line">  <span class="attr">index</span>: <span class="string">&#x27;./src/index.js&#x27;</span>,</span><br><span class="line">  <span class="attr">mine</span>: <span class="string">&#x27;./src/mine.js&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">  </span><br><span class="line"><span class="attr">output</span>: &#123;</span><br><span class="line">  <span class="attr">filename</span>: <span class="string">&#x27;[name].bundle.js&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">  </span><br><span class="line"><span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">  <span class="attr">chunks</span>:[<span class="string">&#x27;index&#x27;</span>]</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">HtmlWebpackPlugin</span>(&#123;</span><br><span class="line">  <span class="attr">chunks</span>:[<span class="string">&#x27;mine&#x27;</span>]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="第5集-代码分离—抽离出公共代码防止重复打包"><a href="#第5集-代码分离—抽离出公共代码防止重复打包" class="headerlink" title="第5集 代码分离—抽离出公共代码防止重复打包"></a>第5集 代码分离—抽离出公共代码防止重复打包</h4><p><strong>简介：详解代码分离抽离出公共文件</strong></p>
<ul>
<li><p>目的</p>
<ul>
<li>将多个页面重复引入的模块抽离成公共的模块，避免重复打包，减少包体积</li>
</ul>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">optimization</span>: &#123;</span><br><span class="line">  <span class="attr">splitChunks</span>: &#123;</span><br><span class="line">    <span class="attr">chunks</span>: <span class="string">&#x27;all&#x27;</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</li>
<li><p>可视化工具</p>
<ul>
<li><p>安装</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">cnpm install webpack-bundle-analyzer -D</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">BundleAnalyzerPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;webpack-bundle-analyzer&#x27;</span>).<span class="property">BundleAnalyzerPlugin</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">plugins</span>: [<span class="keyword">new</span> <span class="title class_">BundleAnalyzerPlugin</span>()]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>图示</p>
<p><img src="/blog/img/image-20220210205931757.png" alt="image-20220210205931757"></p>
</li>
</ul>
</li>
</ul>
<h4 id="第6集-代码分离—动态导入"><a href="#第6集-代码分离—动态导入" class="headerlink" title="第6集 代码分离—动态导入"></a>第6集 代码分离—动态导入</h4><p><strong>简介：详解代码分离动态导入</strong></p>
<ul>
<li><p>按需加载（懒加载）</p>
<ul>
<li><p>默认不加载，只有页面展示或者事件触发后才加载</p>
</li>
<li><p>指定打包后的文件名称</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">webpackChunkName</span>:<span class="string">&#x27;xxx&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>预加载</p>
<ul>
<li><p>先等待其他资源加载完成之后再加载</p>
</li>
<li><p>指定需要预加载的内容</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">webpackPrefetchz</span>:<span class="literal">true</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="第五章-webpack5进阶—提高开发效率和性能优化"><a href="#第五章-webpack5进阶—提高开发效率和性能优化" class="headerlink" title="第五章  webpack5进阶—提高开发效率和性能优化"></a>第五章  webpack5进阶—提高开发效率和性能优化</h3><h4 id="第1集-掌握代码映射Source-Map定位问题"><a href="#第1集-掌握代码映射Source-Map定位问题" class="headerlink" title="第1集 掌握代码映射Source Map定位问题"></a>第1集 掌握代码映射Source Map定位问题</h4><p><strong>简介：掌握代码映射Source Map定位问题</strong></p>
<ul>
<li><p>Source Map</p>
<ul>
<li><p>定义</p>
<ul>
<li>源代码和构建后代码的映射</li>
</ul>
</li>
<li><p>目的</p>
<ul>
<li>当项目运行出现问题或者报错时，通过控制台能够快速定位到具体出错的代码</li>
</ul>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">devtool</span>:<span class="string">&quot;source-map&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>推荐配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">devtool</span>:<span class="string">&quot;eval-cheap-module-source-map&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><code>eval</code> 具有最好的性能，但并不能帮助你转译代码。</p>
</li>
<li><p><code>cheap</code> 配置的map 质量会稍微差一点（保留行报错，没有列报错），但是不影响问题定位，还可以提高性能</p>
</li>
<li><p><code>module </code> 包含第三方模块的报错</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="第2集-深入理解Tree-Shaking《上》"><a href="#第2集-深入理解Tree-Shaking《上》" class="headerlink" title="第2集 深入理解Tree Shaking《上》"></a>第2集 深入理解Tree Shaking《上》</h4><p><strong>简介：深入理解Tree Shaking</strong></p>
<ul>
<li>Tree Shaking（摇树）<ul>
<li>描述移除 JavaScript 上下文中的未引用代码<ul>
<li>函数return后的代码</li>
<li>只声明未使用的代码</li>
<li>只引入未使用的代码</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="/blog/img/image-20220211163659227.png" alt="image-20220211163659227"></p>
<ul>
<li><p>注意</p>
<ul>
<li>Tree-shaking只对ES Module规范的模块起作用</li>
<li>针对静态结构进行分析，只有import和export是静态的导入和导出。而commonjs有动态导入和导出的功能，无法进行静态分析。</li>
</ul>
</li>
<li><p>与Source Map有兼容问题</p>
<ul>
<li><p>devtool 只能设置以下四种</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">devtool</span>:source-map | inline-source-map | hidden-source-map | nosources-source-map</span><br></pre></td></tr></table></figure>
</li>
<li><p>eval 模式是将 js 输出为字符串不是 ES Modules规范，导致Tree Shaking失效</p>
</li>
</ul>
</li>
<li><p>使用</p>
<ul>
<li><p>生产模式</p>
<ul>
<li>自动开启</li>
</ul>
</li>
<li><p>开发模式</p>
<ul>
<li><p>usedExports</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">TerserPlugin</span>=<span class="built_in">require</span>(<span class="string">&#x27;terser-webpack-plugin&#x27;</span>)</span><br><span class="line"><span class="attr">optimization</span>:&#123;</span><br><span class="line">  <span class="comment">// 标记未使用的代码</span></span><br><span class="line">	<span class="attr">usedExports</span>:<span class="literal">true</span>,</span><br><span class="line">  <span class="comment">// 删除已经标记未使用的代码</span></span><br><span class="line">  <span class="attr">minimize</span>:<span class="literal">true</span>,</span><br><span class="line">  <span class="attr">minimizer</span>:[<span class="keyword">new</span> <span class="title class_">TerserPlugin</span>()]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>sideEffects</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="第3集-深入理解Tree-Shaking《下》"><a href="#第3集-深入理解Tree-Shaking《下》" class="headerlink" title="第3集 深入理解Tree Shaking《下》"></a>第3集 深入理解Tree Shaking《下》</h4><p><strong>简介：深入理解Tree Shaking</strong></p>
<ul>
<li><p>副作用</p>
<ul>
<li><p>引入一个模块，调用了模块中的函数，或者修改当前模块、全局的数据，就有副作用</p>
<ul>
<li><p>修改全局的变量</p>
</li>
<li><p>在原型上扩展方法</p>
</li>
<li><p>css的引入</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>开启副作用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">optimization</span>:&#123;</span><br><span class="line">  <span class="comment">// 开启副作用标识</span></span><br><span class="line">	<span class="attr">sideEffects</span>:<span class="literal">true</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
<li><p>标识代码是否有副作用</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="string">&quot;sideEffects&quot;</span>:<span class="literal">false</span> (告诉webpack所有代码都没有副作用)</span><br><span class="line"><span class="string">&quot;sideEffects&quot;</span>:<span class="literal">true</span> (告诉webpack所有代码都有副作用)</span><br><span class="line"><span class="string">&quot;sideEffects&quot;</span>:[<span class="string">&#x27;xxx.js&#x27;</span>,<span class="string">&#x27;*.less&#x27;</span>]（告诉webpack哪些有副作用，不移除）</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="第4集-剖析webpack中的缓存"><a href="#第4集-剖析webpack中的缓存" class="headerlink" title="第4集 剖析webpack中的缓存"></a>第4集 剖析webpack中的缓存</h4><p><strong>简介：剖析webpack中的缓存</strong></p>
<ul>
<li><p>babel缓存</p>
<ul>
<li><p>特点</p>
<ul>
<li>第二次构建时，会读取之前的缓存</li>
</ul>
</li>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">use</span>:[</span><br><span class="line">	<span class="attr">options</span>:&#123;</span><br><span class="line">		<span class="attr">cacheDirectory</span>:<span class="literal">true</span></span><br><span class="line">	&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>文件资源缓存</p>
<p><img src="/blog/img/image-20220217161356950.png" alt="image-20220217161356950"></p>
<ul>
<li>配置webpack哈希值<ul>
<li>hash</li>
<li>chunkhash</li>
<li>contenthash</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="第5集-剖析webpack中的模块解析和排除依赖打包"><a href="#第5集-剖析webpack中的模块解析和排除依赖打包" class="headerlink" title="第5集 剖析webpack中的模块解析和排除依赖打包"></a>第5集 剖析webpack中的模块解析和排除依赖打包</h4><p><strong>简介：剖析webpack中的模块解析</strong></p>
<ul>
<li><p>模块解析</p>
<ul>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="attr">resolve</span>:&#123;</span><br><span class="line">	<span class="attr">alias</span>:&#123;</span><br><span class="line">		<span class="comment">// 指定路径的别名</span></span><br><span class="line">		<span class="string">&#x27;@&#x27;</span>:<span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">	&#125;,</span><br><span class="line">  <span class="comment">// 自动解析模块的后缀名</span></span><br><span class="line">	<span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>, <span class="string">&#x27;.json&#x27;</span>, <span class="string">&#x27;.less&#x27;</span>],</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>排除依赖打包</p>
<ul>
<li><p>配置</p>
<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// webpack.config.js</span></span><br><span class="line"><span class="attr">externals</span>:&#123;</span><br><span class="line">	<span class="string">&#x27;jquery&#x27;</span>:<span class="string">&#x27;jQuery&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="code"><pre><span class="line">// index.</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.min.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://yangy97.github.io/blog">杨</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://yangy97.github.io/blog/2023/04/17/webpack/">https://yangy97.github.io/blog/2023/04/17/webpack/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://yangy97.github.io/blog" target="_blank">XiaoYang</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/blog/tags/webpack/">webpack</a></div><div class="post_share"><div class="social-share" data-image="/blog/img/avator.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/blog/img/wechat.png" target="_blank"><img class="post-qr-code-img" src="/blog/img/wechat.png" alt="微信"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="/blog/img/alipay.png" target="_blank"><img class="post-qr-code-img" src="/blog/img/alipay.png" alt="支付宝"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/blog/2023/04/18/paralle/" title="parallel(并发控制2)"><img class="cover" src="https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg3.png" onerror="onerror=null;src='/blog/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">parallel(并发控制2)</div></div></a></div><div class="next-post pull-right"><a href="/blog/2023/04/13/adpater/" title="移动端适配"><img class="cover" src="https://file.crazywong.com/gh/jerryc127/CDN@latest/cover/default_bg.png" onerror="onerror=null;src='/blog/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">移动端适配</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/blog/img/avator.png" onerror="this.onerror=null;this.src='/blog/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">杨</div><div class="author-info__description">一个菜鸟前端的自我救赎</div></div><div class="card-info-data site-data is-center"><a href="/blog/archives/"><div class="headline">文章</div><div class="length-num">35</div></a><a href="/blog/tags/"><div class="headline">标签</div><div class="length-num">12</div></a><a href="/blog/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/yangy97"><i class="fab fa-github"></i><span>小杨的github</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/yangy97" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:y1597355434@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://www.instagram.com/brilliant_yw/" target="_blank" title="instagram"><i class="fab fa-instagram"></i></a><a class="social-icon" href="https://twitter.com/" target="_blank" title="twitter"><i class="fab fa-twitter"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0-%E8%B5%B0%E8%BF%9BWebpack5%E7%9A%84%E4%B8%96%E7%95%8C%E2%80%94%E5%88%9D%E5%A7%8B"><span class="toc-number">1.</span> <span class="toc-text">第一章 走进Webpack5的世界—初始</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AF%A6%E8%A7%A3Webpack%E4%BA%94%E4%B8%AA%E6%A0%B8%E5%BF%83%E9%85%8D%E7%BD%AE"><span class="toc-number">1.1.</span> <span class="toc-text">详解Webpack五个核心配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8A%E6%89%8Bwebpack%E7%9A%84%E4%BD%BF%E7%94%A8%E2%80%94%E5%88%9D%E4%BD%93%E9%AA%8C"><span class="toc-number">1.2.</span> <span class="toc-text">上手webpack的使用—初体验</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0-Webpack5%E5%9F%BA%E7%A1%80%E2%80%94HTML%E3%80%81CSS%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85"><span class="toc-number">2.</span> <span class="toc-text">第二章  Webpack5基础—HTML、CSS资源打包</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC1%E9%9B%86-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3webpack%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">2.1.</span> <span class="toc-text">第1集 深入理解webpack配置文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC2%E9%9B%86-HTML%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E2%80%94%E8%87%AA%E5%8A%A8%E7%94%9F%E6%88%90HTML%E6%96%87%E4%BB%B6%E5%92%8C%E6%8C%87%E5%AE%9A%E6%A8%A1%E6%9D%BF"><span class="toc-number">2.2.</span> <span class="toc-text">第2集 HTML资源打包—自动生成HTML文件和指定模板</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC3%E9%9B%86-HTML%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E2%80%94%E6%89%93%E5%8C%85%E5%A4%9A%E4%B8%AAHTML%E9%A1%B5%E9%9D%A2%E5%92%8C%E5%8E%8B%E7%BC%A9"><span class="toc-number">2.3.</span> <span class="toc-text">第3集 HTML资源打包—打包多个HTML页面和压缩</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC4%E9%9B%86-CSS%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E2%80%94%E5%89%96%E6%9E%90CSS%E6%89%93%E5%8C%85%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">2.4.</span> <span class="toc-text">第4集 CSS资源打包—剖析CSS打包的原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC5%E9%9B%86-CSS%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E2%80%94%E5%B0%86CSS%E4%BB%A3%E7%A0%81%E6%8A%BD%E7%A6%BB%E6%88%90%E5%8D%95%E7%8B%AC%E6%96%87%E4%BB%B6"><span class="toc-number">2.5.</span> <span class="toc-text">第5集 CSS资源打包—将CSS代码抽离成单独文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC6%E9%9B%86-CSS%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E2%80%94%E7%8E%A9%E8%BD%AC%E6%89%93%E5%8C%85CSS%E9%A2%84%E7%BC%96%E8%AF%91%E8%AF%AD%E8%A8%80"><span class="toc-number">2.6.</span> <span class="toc-text">第6集 CSS资源打包—玩转打包CSS预编译语言</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC7%E9%9B%86-CSS%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E2%80%94%E5%AF%B9%E7%89%B9%E6%AE%8A%E7%9A%84CSS%E6%A0%B7%E5%BC%8F%E6%B7%BB%E5%8A%A0%E5%85%BC%E5%AE%B9%E5%89%8D%E7%BC%80"><span class="toc-number">2.7.</span> <span class="toc-text">第7集 CSS资源打包—对特殊的CSS样式添加兼容前缀</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC8%E9%9B%86-CSS%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E2%80%94CSS%E5%8E%8B%E7%BC%A9"><span class="toc-number">2.8.</span> <span class="toc-text">第8集 CSS资源打包—CSS压缩</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0-webpack5%E5%9F%BA%E7%A1%80%E2%80%94-JS%E3%80%81%E5%85%B6%E4%BB%96%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E5%92%8C%E7%83%AD%E6%9B%B4%E6%96%B0"><span class="toc-number">3.</span> <span class="toc-text">第三章 webpack5基础— JS、其他资源打包和热更新</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC1%E9%9B%86-JS%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E2%80%94%E7%BC%96%E8%AF%91"><span class="toc-number">3.1.</span> <span class="toc-text">第1集 JS资源打包—编译</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC2%E9%9B%86-JS%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85%E2%80%94%E4%BB%A3%E7%A0%81%E6%A0%BC%E5%BC%8F%E6%A0%A1%E9%AA%8C"><span class="toc-number">3.2.</span> <span class="toc-text">第2集 JS资源打包—代码格式校验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC3%E9%9B%86-%E7%8E%A9%E8%BD%AC%E8%B5%84%E6%BA%90%E6%A8%A1%E5%9D%97Asset-Modules"><span class="toc-number">3.3.</span> <span class="toc-text">第3集 玩转资源模块Asset Modules</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC4%E9%9B%86-%E5%AE%9E%E7%8E%B0%E5%9B%BE%E7%89%87%E5%92%8C%E5%AD%97%E4%BD%93%E8%B5%84%E6%BA%90%E6%89%93%E5%8C%85"><span class="toc-number">3.4.</span> <span class="toc-text">第4集 实现图片和字体资源打包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC5%E9%9B%86-%E6%8F%90%E9%AB%98%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E2%80%94%E5%BC%80%E5%8F%91%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">3.5.</span> <span class="toc-text">第5集 提高开发效率—开发服务器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0-webpack5%E8%BF%9B%E9%98%B6%E2%80%94%E7%8E%AF%E5%A2%83%E5%8C%BA%E5%88%86%E5%92%8C%E4%BB%A3%E7%A0%81%E5%88%86%E7%A6%BB"><span class="toc-number">4.</span> <span class="toc-text">第四章  webpack5进阶—环境区分和代码分离</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC1%E9%9B%86-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%8C%BA%E5%88%86%E2%80%94%E5%8F%98%E9%87%8F%E5%8C%BA%E5%88%86%E6%89%93%E5%8C%85%E7%8E%AF%E5%A2%83"><span class="toc-number">4.1.</span> <span class="toc-text">第1集 开发环境区分—变量区分打包环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC2%E9%9B%86-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%8C%BA%E5%88%86%E2%80%94%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%8C%BA%E5%88%86%E6%89%93%E5%8C%85%E7%8E%AF%E5%A2%83"><span class="toc-number">4.2.</span> <span class="toc-text">第2集 开发环境区分—配置文件区分打包环境</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC3%E9%9B%86-%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%8C%BA%E5%88%86%E2%80%94%E7%8E%AF%E5%A2%83%E5%8C%BA%E5%88%86%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F"><span class="toc-number">4.3.</span> <span class="toc-text">第3集 开发环境区分—环境区分全局变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC4%E9%9B%86-%E4%BB%A3%E7%A0%81%E5%88%86%E7%A6%BB%E2%80%94%E5%A4%9A%E5%85%A5%E5%8F%A3%E6%89%93%E5%8C%85"><span class="toc-number">4.4.</span> <span class="toc-text">第4集 代码分离—多入口打包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC5%E9%9B%86-%E4%BB%A3%E7%A0%81%E5%88%86%E7%A6%BB%E2%80%94%E6%8A%BD%E7%A6%BB%E5%87%BA%E5%85%AC%E5%85%B1%E4%BB%A3%E7%A0%81%E9%98%B2%E6%AD%A2%E9%87%8D%E5%A4%8D%E6%89%93%E5%8C%85"><span class="toc-number">4.5.</span> <span class="toc-text">第5集 代码分离—抽离出公共代码防止重复打包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC6%E9%9B%86-%E4%BB%A3%E7%A0%81%E5%88%86%E7%A6%BB%E2%80%94%E5%8A%A8%E6%80%81%E5%AF%BC%E5%85%A5"><span class="toc-number">4.6.</span> <span class="toc-text">第6集 代码分离—动态导入</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0-webpack5%E8%BF%9B%E9%98%B6%E2%80%94%E6%8F%90%E9%AB%98%E5%BC%80%E5%8F%91%E6%95%88%E7%8E%87%E5%92%8C%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">5.</span> <span class="toc-text">第五章  webpack5进阶—提高开发效率和性能优化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC1%E9%9B%86-%E6%8E%8C%E6%8F%A1%E4%BB%A3%E7%A0%81%E6%98%A0%E5%B0%84Source-Map%E5%AE%9A%E4%BD%8D%E9%97%AE%E9%A2%98"><span class="toc-number">5.1.</span> <span class="toc-text">第1集 掌握代码映射Source Map定位问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC2%E9%9B%86-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Tree-Shaking%E3%80%8A%E4%B8%8A%E3%80%8B"><span class="toc-number">5.2.</span> <span class="toc-text">第2集 深入理解Tree Shaking《上》</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC3%E9%9B%86-%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3Tree-Shaking%E3%80%8A%E4%B8%8B%E3%80%8B"><span class="toc-number">5.3.</span> <span class="toc-text">第3集 深入理解Tree Shaking《下》</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC4%E9%9B%86-%E5%89%96%E6%9E%90webpack%E4%B8%AD%E7%9A%84%E7%BC%93%E5%AD%98"><span class="toc-number">5.4.</span> <span class="toc-text">第4集 剖析webpack中的缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC5%E9%9B%86-%E5%89%96%E6%9E%90webpack%E4%B8%AD%E7%9A%84%E6%A8%A1%E5%9D%97%E8%A7%A3%E6%9E%90%E5%92%8C%E6%8E%92%E9%99%A4%E4%BE%9D%E8%B5%96%E6%89%93%E5%8C%85"><span class="toc-number">5.5.</span> <span class="toc-text">第5集 剖析webpack中的模块解析和排除依赖打包</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 杨</div><div class="footer_custom_text">Hi, welcome to my Blog This is XiaoYang</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">简</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/blog/js/utils.js"></script><script src="/blog/js/main.js"></script><script src="/blog/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script id="click-show-text" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-show-text.min.js" data-mobile="false" data-text="I,LOVE,YOU" data-fontsize="15px" data-random="false" async="async"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>